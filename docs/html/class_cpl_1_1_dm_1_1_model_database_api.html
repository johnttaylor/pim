<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Colony: Cpl::Dm::ModelDatabaseApi Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo2.gif"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Colony<span id="projectnumber">&#160;$$$PROJECT_NUMBER$$$</span>
   </div>
   <div id="projectbrief">Embedded C++ Class Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_cpl.html">Cpl</a></li><li class="navelem"><a class="el" href="namespace_cpl_1_1_dm.html">Dm</a></li><li class="navelem"><a class="el" href="class_cpl_1_1_dm_1_1_model_database_api.html">ModelDatabaseApi</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="class_cpl_1_1_dm_1_1_model_database_api-members.html">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle"><div class="title">Cpl::Dm::ModelDatabaseApi Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>This class defines the basic operations that can be performed on a Model Base.  
 <a href="class_cpl_1_1_dm_1_1_model_database_api.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This class defines the basic operations that can be performed on a Model Base. </p>
<p >A Model Database is a collection of instantiated Model Points.</p>
<p >All methods in this class are thread Safe unless explicitly documented otherwise. </p>
</div>
<p><code>#include &lt;<a class="el" href="_model_database_api_8h_source.html">ModelDatabaseApi.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for Cpl::Dm::ModelDatabaseApi:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_cpl_1_1_dm_1_1_model_database_api__inherit__graph.svg" width="198" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5398530d8577d3006c696f4dd1220c8c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_cpl_1_1_dm_1_1_model_point.html">ModelPoint</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpl_1_1_dm_1_1_model_database_api.html#a5398530d8577d3006c696f4dd1220c8c">lookupModelPoint</a> (const char *modelPointName) noexcept=0</td></tr>
<tr class="memdesc:a5398530d8577d3006c696f4dd1220c8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method looks-up the model point instance by name and returns a pointer to the instance.  <a href="class_cpl_1_1_dm_1_1_model_database_api.html#a5398530d8577d3006c696f4dd1220c8c">More...</a><br /></td></tr>
<tr class="separator:a5398530d8577d3006c696f4dd1220c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad5bb8634a7d455cbc34d5db92a7b03f"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_cpl_1_1_dm_1_1_model_point.html">ModelPoint</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpl_1_1_dm_1_1_model_database_api.html#aad5bb8634a7d455cbc34d5db92a7b03f">getFirstByName</a> () noexcept=0</td></tr>
<tr class="memdesc:aad5bb8634a7d455cbc34d5db92a7b03f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns a pointer to the first Model Point in the Database.  <a href="class_cpl_1_1_dm_1_1_model_database_api.html#aad5bb8634a7d455cbc34d5db92a7b03f">More...</a><br /></td></tr>
<tr class="separator:aad5bb8634a7d455cbc34d5db92a7b03f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a867173033ed908390a6076b936acdbb9"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_cpl_1_1_dm_1_1_model_point.html">ModelPoint</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpl_1_1_dm_1_1_model_database_api.html#a867173033ed908390a6076b936acdbb9">getNextByName</a> (<a class="el" href="class_cpl_1_1_dm_1_1_model_point.html">ModelPoint</a> &amp;currentModelPoint) noexcept=0</td></tr>
<tr class="memdesc:a867173033ed908390a6076b936acdbb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns the next (in sorted order) Model Point in the Database.  <a href="class_cpl_1_1_dm_1_1_model_database_api.html#a867173033ed908390a6076b936acdbb9">More...</a><br /></td></tr>
<tr class="separator:a867173033ed908390a6076b936acdbb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45f9cd27b9d9d4dec8fdc986c65ca80b"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpl_1_1_dm_1_1_model_database_api.html#a45f9cd27b9d9d4dec8fdc986c65ca80b">fromJSON</a> (const char *src, <a class="el" href="class_cpl_1_1_text_1_1_string.html">Cpl::Text::String</a> *errorMsg=0, <a class="el" href="class_cpl_1_1_dm_1_1_model_point.html">ModelPoint</a> **retMp=0, uint16_t *retSequenceNumber=0) noexcept=0</td></tr>
<tr class="memdesc:a45f9cd27b9d9d4dec8fdc986c65ca80b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method attempts to convert the null terminated JSON formated 'src' string to its binary format and copies the result to the Model Point's internal data.  <a href="class_cpl_1_1_dm_1_1_model_database_api.html#a45f9cd27b9d9d4dec8fdc986c65ca80b">More...</a><br /></td></tr>
<tr class="separator:a45f9cd27b9d9d4dec8fdc986c65ca80b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33c339800dbad2b2d6af42121bf0469c"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpl_1_1_dm_1_1_model_database_api.html#a33c339800dbad2b2d6af42121bf0469c">~ModelDatabaseApi</a> ()</td></tr>
<tr class="memdesc:a33c339800dbad2b2d6af42121bf0469c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual destructor to make the compiler happy.  <a href="class_cpl_1_1_dm_1_1_model_database_api.html#a33c339800dbad2b2d6af42121bf0469c">More...</a><br /></td></tr>
<tr class="separator:a33c339800dbad2b2d6af42121bf0469c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a33c339800dbad2b2d6af42121bf0469c" name="a33c339800dbad2b2d6af42121bf0469c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33c339800dbad2b2d6af42121bf0469c">&#9670;&nbsp;</a></span>~ModelDatabaseApi()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Cpl::Dm::ModelDatabaseApi::~ModelDatabaseApi </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Virtual destructor to make the compiler happy. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a45f9cd27b9d9d4dec8fdc986c65ca80b" name="a45f9cd27b9d9d4dec8fdc986c65ca80b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45f9cd27b9d9d4dec8fdc986c65ca80b">&#9670;&nbsp;</a></span>fromJSON()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool Cpl::Dm::ModelDatabaseApi::fromJSON </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_cpl_1_1_text_1_1_string.html">Cpl::Text::String</a> *&#160;</td>
          <td class="paramname"><em>errorMsg</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_cpl_1_1_dm_1_1_model_point.html">ModelPoint</a> **&#160;</td>
          <td class="paramname"><em>retMp</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>retSequenceNumber</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method attempts to convert the null terminated JSON formated 'src' string to its binary format and copies the result to the Model Point's internal data. </p>
<p >The expected format of the JSON string is specific to the concrete leaf class.</p>
<p >The method optional returns - via 'retMp' - a pointer to the Model Point identified by 'mpname'. If the method false return, then 'retMp' has no meaning.</p>
<p >The method optional returns - via 'retSequenceNumber' - the Model Point's sequence number after the conversion. If the method false return, then 'retSequenceNumber' has no meaning.</p>
<p >If the conversion is successful true is returned. If the contents of the 'src' is not a valid JSON object and/or not parse-able, OR the Point does not support a full/complete conversion from <a class="el" href="namespace_cpl_1_1_text.html" title="The Text namespace provides yet-another String class and additional string and/or text processing uti...">Text</a> to binary, OR the conversion fails, OR the specified model point name does not exist then the method returns false. When the conversion fails, the optional 'errorMsg' argument is updated with a plain text error message.</p>
<p >The general input format: </p><div class="fragment"><div class="line">{ name=<span class="stringliteral">&quot;&lt;mpname&gt;&quot;</span>, locked:<span class="keyword">true</span>|<span class="keyword">false</span> }              <span class="comment">// Locks/unlocks the MP</span></div>
<div class="line">{ name=<span class="stringliteral">&quot;&lt;mpname&gt;&quot;</span>, invalid=1 }                      <span class="comment">// Invalidates the MP</span></div>
<div class="line">{ name=<span class="stringliteral">&quot;&lt;mpname&gt;&quot;</span>, invalid=22 }                     <span class="comment">// Invalidates the MP with a non-default invalid state/value</span></div>
<div class="line">{ name=<span class="stringliteral">&quot;&lt;mpname&gt;&quot;</span>, invalid=1, locked=<span class="keyword">true</span> }         <span class="comment">// Invalidates the MP and locks the MP</span></div>
<div class="line">{ name=<span class="stringliteral">&quot;&lt;mpname&gt;&quot;</span>, val:&lt;value&gt; }                    <span class="comment">// Writes a new (valid) value to the MP</span></div>
<div class="line">{ name=<span class="stringliteral">&quot;&lt;mpname&gt;&quot;</span>, val:&lt;value&gt;, locked=<span class="keyword">true</span> }       <span class="comment">// Writes a new (valid) value to the MP and locks the MP</span></div>
</div><!-- fragment --> 
<p>Implemented in <a class="el" href="class_cpl_1_1_dm_1_1_model_database.html#af5ea75a2fa56d9d537a49d2cc3b96e26">Cpl::Dm::ModelDatabase</a>.</p>

</div>
</div>
<a id="aad5bb8634a7d455cbc34d5db92a7b03f" name="aad5bb8634a7d455cbc34d5db92a7b03f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad5bb8634a7d455cbc34d5db92a7b03f">&#9670;&nbsp;</a></span>getFirstByName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_cpl_1_1_dm_1_1_model_point.html">ModelPoint</a> * Cpl::Dm::ModelDatabaseApi::getFirstByName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method returns a pointer to the first Model Point in the Database. </p>
<p >The model points are traversed in order by model point name. If there are not Model Points in the Database, the method returns 0. </p>

<p>Implemented in <a class="el" href="class_cpl_1_1_dm_1_1_model_database.html#a265b5b8c8ea4c622d73b8036e5473ac0">Cpl::Dm::ModelDatabase</a>.</p>

</div>
</div>
<a id="a867173033ed908390a6076b936acdbb9" name="a867173033ed908390a6076b936acdbb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a867173033ed908390a6076b936acdbb9">&#9670;&nbsp;</a></span>getNextByName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_cpl_1_1_dm_1_1_model_point.html">ModelPoint</a> * Cpl::Dm::ModelDatabaseApi::getNextByName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_cpl_1_1_dm_1_1_model_point.html">ModelPoint</a> &amp;&#160;</td>
          <td class="paramname"><em>currentModelPoint</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method returns the next (in sorted order) Model Point in the Database. </p>
<p >If the current model point is the last Model Point in the Database the method returns 0. </p>

<p>Implemented in <a class="el" href="class_cpl_1_1_dm_1_1_model_database.html#a60fb402cc467bc86aa8c2003b4bf4667">Cpl::Dm::ModelDatabase</a>.</p>

</div>
</div>
<a id="a5398530d8577d3006c696f4dd1220c8c" name="a5398530d8577d3006c696f4dd1220c8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5398530d8577d3006c696f4dd1220c8c">&#9670;&nbsp;</a></span>lookupModelPoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_cpl_1_1_dm_1_1_model_point.html">ModelPoint</a> * Cpl::Dm::ModelDatabaseApi::lookupModelPoint </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>modelPointName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method looks-up the model point instance by name and returns a pointer to the instance. </p>
<p >If the model point name cannot be found, the method returns 0.</p>
<p >NOTE: The <a class="el" href="class_cpl_1_1_dm_1_1_model_point.html" title="This mostly abstract class defines the interface for a Model Point.">ModelPoint</a> returned is a generic Model Point in that any operations that require the concrete data type of the Model Point ARE NOT available. It is 'okay' for the caller (IF AND ONLY IF the caller 'knows' what the concrete type is) to down cast the returned pointer to a type specific child class instance of the Model Point.</p>
<p >NOTE: There is no 'add' method. This is because Model Points self register with their assigned Model Database when the Model Points are created. </p>

<p>Implemented in <a class="el" href="class_cpl_1_1_dm_1_1_model_database.html#a49b78356bbb25a131aec674d1125ad90">Cpl::Dm::ModelDatabase</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Cpl/Dm/<a class="el" href="_model_database_api_8h_source.html">ModelDatabaseApi.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 31 2022 16:46:45 for Colony by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
