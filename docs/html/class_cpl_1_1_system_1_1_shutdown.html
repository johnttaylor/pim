<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Patterns in the Machine: Cpl::System::Shutdown Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo2.gif"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Patterns in the Machine<span id="projectnumber">&#160;$$$PROJECT_NUMBER$$$</span>
   </div>
   <div id="projectbrief">Embedded C++ Class Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_cpl.html">Cpl</a></li><li class="navelem"><a class="el" href="namespace_cpl_1_1_system.html">System</a></li><li class="navelem"><a class="el" href="class_cpl_1_1_system_1_1_shutdown.html">Shutdown</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="class_cpl_1_1_system_1_1_shutdown-members.html">List of all members</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle"><div class="title">Cpl::System::Shutdown Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This class defines methods for forcibly terminating the application.  
 <a href="class_cpl_1_1_system_1_1_shutdown.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This class defines methods for forcibly terminating the application. </p>
<p >How gracefully (or not) the shutdown is dependent on the actual platform implementation. In addition, what 'shutdown' means is also platform dependent, e.g. on an embedded platform it may invoke a reboot and/or restart of the application.</p>
<p >Since this is a forcibly shutdown there are no guaranties with respect to releasing resources.</p>
<p >The interface does provide for callback method(s) to be called on shutdown. These methods are guaranteed to be called (or at least attempted to be called in the case of true code failure). </p>
</div>
<p><code>#include &lt;<a class="el" href="_shutdown_8h_source.html">Shutdown.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpl_1_1_system_1_1_shutdown_1_1_handler.html">Handler</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This call defines the callback interface that is used when the application is shutdown.  <a href="class_cpl_1_1_system_1_1_shutdown_1_1_handler.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad84d8af9d8a45de8a71ee179f730c348"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpl_1_1_system_1_1_shutdown.html#ad84d8af9d8a45de8a71ee179f730c348">success</a> (void)</td></tr>
<tr class="memdesc:ad84d8af9d8a45de8a71ee179f730c348"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will force a shutdown of the application with a 'success' exit code.  <a href="class_cpl_1_1_system_1_1_shutdown.html#ad84d8af9d8a45de8a71ee179f730c348">More...</a><br /></td></tr>
<tr class="separator:ad84d8af9d8a45de8a71ee179f730c348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a038d8ba07e3c3a278f4e5cedf9090ce4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpl_1_1_system_1_1_shutdown.html#a038d8ba07e3c3a278f4e5cedf9090ce4">failure</a> (int exit_code=<a class="el" href="_shutdown_8h.html#ac42628d407a06fa6662ca801e9bd58ad">OPTION_CPL_SYSTEM_SHUTDOWN_FAILURE_ERROR_CODE</a>)</td></tr>
<tr class="memdesc:a038d8ba07e3c3a278f4e5cedf9090ce4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will force a shutdown of the application with a 'failure' exit code.  <a href="class_cpl_1_1_system_1_1_shutdown.html#a038d8ba07e3c3a278f4e5cedf9090ce4">More...</a><br /></td></tr>
<tr class="separator:a038d8ba07e3c3a278f4e5cedf9090ce4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a118a364d5f101477bbe61cbd88a63c82"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpl_1_1_system_1_1_shutdown.html#a118a364d5f101477bbe61cbd88a63c82">registerHandler</a> (<a class="el" href="class_cpl_1_1_system_1_1_shutdown_1_1_handler.html">Shutdown::Handler</a> &amp;instanceToRegister)</td></tr>
<tr class="memdesc:a118a364d5f101477bbe61cbd88a63c82"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is used to register a callback method that will be called when <a class="el" href="class_cpl_1_1_system_1_1_shutdown.html#ad84d8af9d8a45de8a71ee179f730c348" title="This function will force a shutdown of the application with a &#39;success&#39; exit code.">success()</a> or <a class="el" href="class_cpl_1_1_system_1_1_shutdown.html#a038d8ba07e3c3a278f4e5cedf9090ce4" title="This function will force a shutdown of the application with a &#39;failure&#39; exit code.">failure()</a> is called and before the application exits.  <a href="class_cpl_1_1_system_1_1_shutdown.html#a118a364d5f101477bbe61cbd88a63c82">More...</a><br /></td></tr>
<tr class="separator:a118a364d5f101477bbe61cbd88a63c82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad90c3ff7ad305ba7cb2c046abe9d1904"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpl_1_1_system_1_1_shutdown.html#ad90c3ff7ad305ba7cb2c046abe9d1904">notifyShutdownHandlers_</a> (int exit_code)</td></tr>
<tr class="memdesc:ad90c3ff7ad305ba7cb2c046abe9d1904"><td class="mdescLeft">&#160;</td><td class="mdescRight">This COMPONENT Scoped method.  <a href="class_cpl_1_1_system_1_1_shutdown.html#ad90c3ff7ad305ba7cb2c046abe9d1904">More...</a><br /></td></tr>
<tr class="separator:ad90c3ff7ad305ba7cb2c046abe9d1904"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a038d8ba07e3c3a278f4e5cedf9090ce4" name="a038d8ba07e3c3a278f4e5cedf9090ce4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a038d8ba07e3c3a278f4e5cedf9090ce4">&#9670;&nbsp;</a></span>failure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Cpl::System::Shutdown::failure </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>exit_code</em> = <code><a class="el" href="_shutdown_8h.html#ac42628d407a06fa6662ca801e9bd58ad">OPTION_CPL_SYSTEM_SHUTDOWN_FAILURE_ERROR_CODE</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function will force a shutdown of the application with a 'failure' exit code. </p>
<p >The caller can optional specify an exit code. What 'forced' means is dependent on the actual platform. All registered callback methods will be called before exiting the application. The returned value - assuming the method actually returns - will be the 'final' exit code (the passed in exit_code can be alter by registered <a class="el" href="class_cpl_1_1_system_1_1_shutdown.html" title="This class defines methods for forcibly terminating the application.">Shutdown</a> Handlers).</p>
<p >Note: The recommended approach for exiting the application due to an error is to use the <a class="el" href="class_cpl_1_1_system_1_1_fatal_error.html" title="This class defines methods for handling fatal errors encountered by an application.">Cpl::System::FatalError</a> interface so that the 'why' of the failure has the potential for being captured. </p>

</div>
</div>
<a id="ad90c3ff7ad305ba7cb2c046abe9d1904" name="ad90c3ff7ad305ba7cb2c046abe9d1904"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad90c3ff7ad305ba7cb2c046abe9d1904">&#9670;&nbsp;</a></span>notifyShutdownHandlers_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Cpl::System::Shutdown::notifyShutdownHandlers_ </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>exit_code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This COMPONENT Scoped method. </p>
<p >The application SHOULD not directly access this method (unless you are REALLY REALLY REALLY sure you know what you are doing).</p>
<p >Helper method used to notify registered shutdown handlers </p>

</div>
</div>
<a id="a118a364d5f101477bbe61cbd88a63c82" name="a118a364d5f101477bbe61cbd88a63c82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a118a364d5f101477bbe61cbd88a63c82">&#9670;&nbsp;</a></span>registerHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void Cpl::System::Shutdown::registerHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_cpl_1_1_system_1_1_shutdown_1_1_handler.html">Shutdown::Handler</a> &amp;&#160;</td>
          <td class="paramname"><em>instanceToRegister</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method is used to register a callback method that will be called when <a class="el" href="class_cpl_1_1_system_1_1_shutdown.html#ad84d8af9d8a45de8a71ee179f730c348" title="This function will force a shutdown of the application with a &#39;success&#39; exit code.">success()</a> or <a class="el" href="class_cpl_1_1_system_1_1_shutdown.html#a038d8ba07e3c3a278f4e5cedf9090ce4" title="This function will force a shutdown of the application with a &#39;failure&#39; exit code.">failure()</a> is called and before the application exits. </p>
<p >There is NO guaranteed order on when the register callback methods (when there is multiple register callbacks) will be called OR with respect to application code running. The only guarantee is that the callbacks will be called AFTER the above methods are called and BEFORE the application shutdown.</p>
<p >During shutdown, the 'notify()' method of 'instanceToRegister' is called. </p>

</div>
</div>
<a id="ad84d8af9d8a45de8a71ee179f730c348" name="ad84d8af9d8a45de8a71ee179f730c348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad84d8af9d8a45de8a71ee179f730c348">&#9670;&nbsp;</a></span>success()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int Cpl::System::Shutdown::success </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function will force a shutdown of the application with a 'success' exit code. </p>
<p >What 'forced' means is dependent on the actual platform. All registered callback methods will be called before exiting the application. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Cpl/System/<a class="el" href="_shutdown_8h_source.html">Shutdown.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Dec 25 2022 14:37:56 for Patterns in the Machine by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
